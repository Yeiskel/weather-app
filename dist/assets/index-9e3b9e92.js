(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();function p(){fetch(`/.netlify/functions/fetch-city?city=${a}`).then(t=>t.json()).then(t=>{const c=t[0].name;fetch(`/.netlify/functions/fetch-weather?lat=${t[0].lat}&lon=${t[0].lon}`).then(o=>o.json()).then(o=>f(o,c))})}function f(t,c){const o=document.createElement("div");o.classList.add("bg-slate-200","w-[11rem]","rounded","p-4","drop-shadow-cardDropShadow","hover:scale-110","hover:transition-all");const i=document.createElement("div"),e=document.createElement("h3");e.innerHTML=c,e.classList.add("inline-block","text-lg","font-semibold","text-slate-500");const n=document.createElement("span");n.innerHTML=t.sys.country,n.classList.add("bg-cyan-500","rounded-xl","px-2","py-[0.1rem]","align-super","text-sm","text-slate-200","ml-1","font-semibold"),i.append(e,n);const r=document.createElement("h2");r.innerHTML=Math.round(t.main.temp),r.classList.add("font-bold","text-6xl","inline-block");const l=document.createElement("span");l.innerHTML="Â°C",l.classList.add("text-3xl","font-bold","align-super"),r.appendChild(l);const u=document.createElement("img");u.src=`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`;const d=document.createElement("p");d.innerHTML=t.weather[0].description,d.classList.add("uppercase","tracking-wide","text-slate-500","font-medium"),h.appendChild(o),o.append(i,r,u,d)}function m(){a===""?alert("Plese input a city first"):(p(),s.value="",a="")}const h=document.querySelector("#card-container"),s=document.querySelector("#city-input"),y=document.querySelector("button");let a=s.value;s.addEventListener("change",()=>{a=s.value});s.addEventListener("keyup",t=>{t.key==="Enter"&&(t.stopImmediatePropagation(),m())});y.addEventListener("click",t=>{t.stopImmediatePropagation(),m()});
